func (t {{ .Name }}) Size() int32 {
  var sz int32
{{- range $i, $f := .Fields | forVersion .Version }}
{{- if .Type | isArray }}
  sz += sizeof.Array(len(t.{{ $f.Name }}), func(i int) int32 { return t.{{ $f.Name }}[i].Size() })
{{- end }}
{{- if .Type | isArray | not }}
  sz += sizeof.{{ .Type | capitalize }}(t.{{ $f.Name}})
{{- end }}
{{- end }}
  return sz
}
